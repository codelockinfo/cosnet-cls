{{ 'my-account.css' | asset_url | stylesheet_tag }}
<div class="customer-forgot" id="recover">
  <div class="container">
    <div
      class="flex gap-custom-big flex-cols flex-wrap"
      style="
        --col-gap-desktop: 60px;
        --col-gap: 40px;
        --col-desktop: 2;
        --col-number: 1;
      "
    >
      <div class="recover-form customer-form">
        <h3 class="title-customer mt-0">{{ 'customer.recover_password.title' | t }}</h3>
        <p class="subtext mb-20">
          {{ 'customer.recover_password.subtext' | t }}
        </p>
        {%- form 'recover_customer_password' -%}
          {%- assign recover_success = form.posted_successfully? -%}
          {%- if form.errors -%}
            {%- assign message = form.errors | default_errors | strip_html -%}
            <p class="error lh-normal flex gap-10">
              {%- render 'icon-error' -%}
              {{ message }}
            </p>
          {% endif %}
          <div class="form-field form-group  mb-15 flex flex-column">
            <label class="form-label mb-3 visually-hidden" for="RecoverEmail">
              {{ 'customer.recover_password.email' | t }}
              <span class="required">*</span>
            </label>
            <input
              type="email"
              value=""
              name="email"
              id="RecoverEmail"
              autocomplete="email"
              autocorrect="off"
              autocapitalize="off"
              placeholder="{{ 'customer.login_page.placeholder_email' | t }}"
              aria-required="true"
              aria-invalid="true"
              required
            >
          </div>
          <div class="form-actions mt-30">
            <input
              type="submit"
              class="btn-primary text-center w-full"
              value="{{ 'customer.recover_password.submit' | t }}"
            >
          </div>
        {%- endform -%}
      </div>
      <div class="content-register">
        <h3 class="title-customer mt-0">
          {{ 'customer.register.title_content' | t }}
        </h3>
        <p class="mb-30">
          {{ 'customer.register.content' | t }}
        </p>
        <a
          href="{{ routes.account_register_url }}"
          class="btn btn-primary block no-underline text-center"
        >
          {{- 'customer.register.submit' | t -}}
        </a>
      </div>
    </div>
  </div>
</div>
<div class="customer-login">
  <div class="container">
    <div
      class="flex gap-custom-big flex-cols flex-wrap"
      style="--col-gap-desktop: 60px; --col-gap: 40px; --col-desktop: 2; --col-number: 1;"
    >
      <div class="login-form customer-form">
        <h3 class="title-customer mt-0">
          {{ 'customer.login_page.title' | t }}
        </h3>
        {%- if recover_success == true -%}
          <p class="success flex gap-5">
            {%- render 'icon-success' -%}
            {{ 'customer.recover_password.success' | t }}
          </p>
        {% endif %}
        {%- form 'customer_login', class: 'customer-login-form' -%}
          {%- if form.errors -%}
            {%- assign message = form.errors.messages.form -%}
            <p class="error lh-normal flex gap-10">
              {%- render 'icon-error' -%}
              {{ message }}
            </p>
          {% endif %}
          <div class="form-group mb-15 flex flex-column form-field">
            <label class="form-label mb-3 visually-hidden" for="CustomerEmail">
              {{ 'customer.login_page.email' | t }}
              <span class="required">*</span>
            </label>
            <input
              type="email"
              name="customer[email]"
              id="CustomerEmail"
              placeholder="{{ 'customer.login_page.placeholder_email' | t }}"
              required
            >
          </div>
          {%- if form.password_needed -%}
            <div class="password-wrapper">
  <input
    type="password"
    name="customer[password]"
    id="CustomerPassword"
    placeholder="{{ 'customer.login_page.placeholder_pass' | t }}"
    required
  />
  <span class="toggle-password" data-target="CustomerPassword">üëÅ</span>
</div>
          {% endif %}
          <div class="form-actions mt-20">
            <a href="#recover" class="forget-password no-underline">
              <span class="text">{{ 'customer.login_page.forgot_password' | t }}</span>
            </a>
          <button
          type="submit"
          id="LoginSubmitBtn"
          class="btn-primary block no-underline mt-30 w-full"
        >
          <span class="btn-text">
            {{ 'customer.login_page.submit' | t }}
          </span>
        </button>
          </div>
        {%- endform -%}
      </div>
      <div class="content-register">
        <h3 class="title-customer mt-0">
          {{ 'customer.register.title_content' | t }}
        </h3>
        <p class="mb-30">
          {{ 'customer.register.content' | t }}
        </p>
        <a
          href="{{ routes.account_register_url }}"
          class="btn btn-primary inline-block no-underline text-center w-full"
        >
          {{- 'customer.register.submit' | t -}}
        </a>
      </div>
    </div>
  </div>
</div>
<style>
/* Loader */
.password-wrapper {
  position: relative;
  width: 100%;
}

.password-wrapper input {
  width: 100%;
  padding-right: 40px; /* icon ke liye jagah */
  border-radius: 30px; /* aapke design ke hisab se adjust karo */
  height: 50px; /* apne input ki height ke hisab se */
  box-sizing: border-box;
}

.toggle-password {
  position: absolute;
  top: 50%;
  right: 15px;
  transform: translateY(-50%);
  cursor: pointer;
  font-size: 18px;
  color: #333;
  user-select: none;
  z-index: 10;
}
#LoginSubmitBtn {
  position: relative;
}

.btn-loading .btn-text {
  visibility: hidden;
}

.btn-loading::after {
  content: "";
  width: 22px;
  height: 22px;
  border: 2px solid #fff;
  border-top-color: transparent;
  border-radius: 50%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

/* Password toggle */
.password-wrapper {
  position: relative;
}

.password-wrapper input {
  padding-right: 45px;
}

.toggle-password {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  cursor: pointer;
  font-size: 16px;
}
</style>
<script>
document.addEventListener("DOMContentLoaded", function () {

  /* Loader on submit */
  const form = document.querySelector(".customer-login-form");
  const submitBtn = document.getElementById("LoginSubmitBtn");

  if (form && submitBtn) {
    form.addEventListener("submit", function () {
      submitBtn.classList.add("btn-loading");
      submitBtn.disabled = true;
    });
  }

  /* Password hide / show */
  document.querySelectorAll(".toggle-password").forEach(function (btn) {
    btn.addEventListener("click", function () {
      const input = document.getElementById(btn.dataset.target);
      if (input.type === "password") {
        input.type = "text";
        btn.textContent = "üëÅ‚Äçüó®";
      } else {
        input.type = "password";
        btn.textContent = "üëÅ";
      }
    });
  });

});
</script>